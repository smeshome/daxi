<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>頭城大溪國小 互動知識圖卡</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #f7fafc; /* Light Gray Background */
        }
        /* 卡片翻轉效果 */
        .scene {
            perspective: 1000px;
        }
        .card {
            width: 100%;
            height: 100%;
            position: relative;
            cursor: pointer;
            transition: transform 0.8s;
            transform-style: preserve-3d;
        }
        .card.is-flipped {
            transform: rotateY(180deg);
        }
        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 1.5rem;
            border-radius: 1rem;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
        }
        .card-front {
            /* Handled by Tailwind classes */
        }
        .card-back {
            transform: rotateY(180deg);
            align-items: flex-start;
            justify-content: flex-start;
            text-align: left;
        }
        .card-back ul {
            width: 100%;
            list-style-type: none;
            padding: 0;
        }
        .card-back li {
            margin-bottom: 0.75rem;
            display: flex;
            align-items: flex-start;
        }
        .card-back li span {
            margin-right: 0.75rem;
            font-size: 1.25rem; /* Larger emoji */
        }
        /* 篩選按鈕 */
        .filter-btn {
            transition: all 0.3s ease;
            border: 1px solid transparent;
        }
        .filter-btn.active {
            background-color: #3b82f6; /* Blue-500 */
            color: white;
            border-color: #3b82f6;
        }
        .filter-btn:not(.active) {
            background-color: white;
            color: #4b5563; /* Gray-600 */
            border-color: #d1d5db; /* Gray-300 */
        }
         .filter-btn:not(.active):hover {
            background-color: #f3f4f6; /* Gray-100 */
        }
        .scene.hidden {
            display: none;
        }
    </style>
</head>
<body class="text-gray-800">
    <div class="container mx-auto px-4 py-8 md:py-12">
        <header class="text-center mb-8">
            <h1 class="text-3xl md:text-4xl font-bold mb-2">視覺化知識圖卡系統</h1>
            <p class="text-lg text-gray-600">頭城大溪國小：翻轉裁併校危機</p>
        </header>

        <div class="flex flex-wrap justify-center gap-2 md:gap-4 mb-10">
            <button class="filter-btn active px-4 py-2 rounded-full text-sm font-semibold" data-filter="all">全部顯示</button>
            <button class="filter-btn px-4 py-2 rounded-full text-sm font-semibold" data-filter="crisis-turnaround">危機與轉機</button>
            <button class="filter-btn px-4 py-2 rounded-full text-sm font-semibold" data-filter="courses">特色校定課程</button>
            <button class="filter-btn px-4 py-2 rounded-full text-sm font-semibold" data-filter="environment">校園環境與人文</button>
        </div>

        <p id="card-count" class="text-center text-gray-500 mb-8 -mt-4"></p>

        <div id="card-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 gap-6 md:gap-8 max-w-4xl mx-auto">
            
            <!-- Card 1: 裁併校危機 -->
            <div class="scene h-64" data-category="crisis-turnaround">
                <div class="card">
                    <div class="card-face card-front bg-red-100">
                        <div>
                            <div class="p-2 bg-red-200 rounded-lg mb-4 mx-auto w-max">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-red-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" /></svg>
                            </div>
                            <h2 class="text-2xl font-bold text-red-800 text-center">裁併校危機</h2>
                        </div>
                        <p class="absolute bottom-6 text-xs font-semibold text-red-500">[點擊翻轉查看完整內容]</p>
                    </div>
                    <div class="card-face card-back bg-red-200 text-red-900">
                        <ul>
                            <li><span>📉</span>學生人數銳減：從百人以上降至僅剩50位。</li>
                            <li><span>📜</span>面臨裁併校：被列入優先裁併校名單。</li>
                            <li><span>🏫</span>存續岌岌可危：學校面臨創校以來最大挑戰。</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Card 2: 轉機策略 -->
            <div class="scene h-64" data-category="crisis-turnaround">
                <div class="card">
                    <div class="card-face card-front bg-yellow-100">
                        <div>
                            <div class="p-2 bg-yellow-200 rounded-lg mb-4 mx-auto w-max">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-yellow-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" /></svg>
                            </div>
                            <h2 class="text-2xl font-bold text-yellow-800 text-center">轉機策略</h2>
                        </div>
                        <p class="absolute bottom-6 text-xs font-semibold text-yellow-500">[點擊翻轉查看完整內容]</p>
                    </div>
                    <div class="card-face card-back bg-yellow-200 text-yellow-900">
                        <ul>
                           <li><span>🤝</span>社區合作：招募愛心志工，深化社區連結。</li>
                           <li><span>💡</span>資源整合：與理念相近的校長進行課程交流。</li>
                           <li><span>🌱</span>注入新活力：維繫優良傳統，成功扭轉劣勢。</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Card 3: 山海教育 -->
            <div class="scene h-64" data-category="courses">
                <div class="card">
                    <div class="card-face card-front bg-green-100">
                         <div>
                            <div class="p-2 bg-green-200 rounded-lg mb-4 mx-auto w-max">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-green-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path d="M12 14l9-5-9-5-9 5 9 5z" /><path d="M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-9.998 12.078 12.078 0 01.665-6.479L12 14z" /><path stroke-linecap="round" stroke-linejoin="round" d="M12 14l9-5-9-5-9 5 9 5zm0 0l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-9.998 12.078 12.078 0 01.665-6.479L12 14zm-4 6v-7.5l4-2.222 4 2.222V20M1 14v5h22v-5" /></svg>
                            </div>
                            <h2 class="text-2xl font-bold text-green-800 text-center">特色課程：山海教育</h2>
                        </div>
                        <p class="absolute bottom-6 text-xs font-semibold text-green-500">[點擊翻轉查看完整內容]</p>
                    </div>
                    <div class="card-face card-back bg-green-200 text-green-900">
                        <ul>
                           <li><span>🏞️</span>戶外即教室：將學習場域延伸至山與海。</li>
                           <li><span>🧑‍🤝‍🧑</span>在地協力：與返鄉青年合作規劃特色課程。</li>
                           <li><span>🖐️</span>動手做中學：讓學生親身體驗，感受土地生命力。</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Card 4: 海洋元素課程 -->
            <div class="scene h-64" data-category="courses">
                <div class="card">
                    <div class="card-face card-front bg-blue-100">
                        <div>
                            <div class="p-2 bg-blue-200 rounded-lg mb-4 mx-auto w-max">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-blue-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M13 10V3L4 14h7v7l9-11h-7z" /></svg>
                            </div>
                            <h2 class="text-2xl font-bold text-blue-800 text-center">海洋元素課程</h2>
                        </div>
                        <p class="absolute bottom-6 text-xs font-semibold text-blue-500">[點擊翻轉查看完整內容]</p>
                    </div>
                    <div class="card-face card-back bg-blue-200 text-blue-900">
                        <ul>
                           <li><span>🏄‍♂️</span>衝浪課：最受歡迎的課程，歡迎家長一同參與。</li>
                           <li><span>🎨</span>海洋藝術：撿拾海邊材料進行美工創作。</li>
                           <li><span>🐟</span>漁港見學：觀察下午三點的漁獲拍賣。</li>
                           <li><span>🦀</span>食魚教育：認識安康魚等在地特色魚種。</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <!-- Card 5: 在地連結: 龜山島 -->
            <div class="scene h-64" data-category="courses">
                 <div class="card">
                    <div class="card-face card-front bg-teal-100">
                        <div>
                            <div class="p-2 bg-teal-200 rounded-lg mb-4 mx-auto w-max">
                               <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-teal-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2h8a2 2 0 002-2v-1a2 2 0 012-2h1.945C21.43 11 22 11.57 22 12.354v.091c0 .546-.223 1.056-.594 1.427l-2.122 2.121c-.41.41-1.072.41-1.482 0l-2.29-2.29a1 1 0 00-1.414 0l-2.828 2.828a1 1 0 01-1.414 0l-2.828-2.828a1 1 0 00-1.414 0l-2.29 2.29c-.41.41-1.072.41-1.482 0L2.646 13.872C2.275 13.501 2.051 12.991 2.051 12.445v-.091C2.051 11.57 2.57 11 3.055 11z" /><path stroke-linecap="round" stroke-linejoin="round" d="M12 6.536l-1.886-1.887A4.5 4.5 0 005.464 2.5a4.5 4.5 0 00-2.07 7.036L12 18.5l8.607-8.964A4.5 4.5 0 0018.536 2.5a4.5 4.5 0 00-4.653 2.149L12 6.536z" /></svg>
                            </div>
                            <h2 class="text-2xl font-bold text-teal-800 text-center">在地連結：龜山島</h2>
                        </div>
                        <p class="absolute bottom-6 text-xs font-semibold text-teal-500">[點擊翻轉查看完整內容]</p>
                    </div>
                    <div class="card-face card-back bg-teal-200 text-teal-900">
                       <ul>
                           <li><span>🐢</span>尋根龜山島：三分之一學生的家庭來自於此。</li>
                           <li><span>📚</span>鄉土課程：講述島上歷史與人文故事。</li>
                           <li><span>🕊️</span>不忘本：讓孩子們認識自己的根源與文化。</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Card 6: 課程理念 -->
            <div class="scene h-64" data-category="courses">
                <div class="card">
                    <div class="card-face card-front bg-purple-100">
                        <div>
                            <div class="p-2 bg-purple-200 rounded-lg mb-4 mx-auto w-max">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-purple-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-12v4m-2-2h4m5 4v4m-2-2h4M17 3l4 4M3 17l4 4M17 21l4-4M3 7l4-4" /></svg>
                            </div>
                            <h2 class="text-2xl font-bold text-purple-800 text-center">課程理念</h2>
                        </div>
                        <p class="absolute bottom-6 text-xs font-semibold text-purple-500">[點擊翻轉查看完整內容]</p>
                    </div>
                    <div class="card-face card-back bg-purple-200 text-purple-900">
                        <ul>
                           <li><span>🌳</span>生活即學習：深信課堂外的收穫最多。</li>
                           <li><span>🧠</span>全人教育：不過度強調課業與考試成績。</li>
                           <li><span>🏄‍♀️</span>體驗中成長：從衝浪等活動學習人生哲理。</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <!-- Card 7: 地理優勢 -->
            <div class="scene h-64" data-category="environment">
                <div class="card">
                    <div class="card-face card-front bg-indigo-100">
                        <div>
                            <div class="p-2 bg-indigo-200 rounded-lg mb-4 mx-auto w-max">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-indigo-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" /></svg>
                            </div>
                            <h2 class="text-2xl font-bold text-indigo-800 text-center">地理優勢</h2>
                        </div>
                        <p class="absolute bottom-6 text-xs font-semibold text-indigo-500">[點擊翻轉查看完整內容]</p>
                    </div>
                    <div class="card-face card-back bg-indigo-200 text-indigo-900">
                        <ul>
                           <li><span>🌊</span>太平洋第一排：窗外就是遼闊的大海。</li>
                           <li><span>🎶</span>聆聽海濤聲：上課時最自然的背景音樂。</li>
                           <li><span>🏖️</span>下課即海邊：最療癒、最獨特的學習環境。</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Card 8: 師生與社群 -->
            <div class="scene h-64" data-category="environment">
                 <div class="card">
                    <div class="card-face card-front bg-pink-100">
                       <div>
                           <div class="p-2 bg-pink-200 rounded-lg mb-4 mx-auto w-max">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-pink-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283-.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" /></svg>
                            </div>
                            <h2 class="text-2xl font-bold text-pink-800 text-center">緊密的師生社群</h2>
                        </div>
                        <p class="absolute bottom-6 text-xs font-semibold text-pink-500">[點擊翻轉查看完整內容]</p>
                    </div>
                    <div class="card-face card-back bg-pink-200 text-pink-900">
                        <ul>
                           <li><span>👨‍👩‍👧‍👦</span>像一個大家庭：老師認識每一個孩子。</li>
                           <li><span>❤️</span>緊密連結：師生與家長溝通無礙。</li>
                           <li><span>😊</span>心胸寬闊：孩子們在充滿愛的環境中成長。</li>
                        </ul>
                    </div>
                </div>
            </div>
            
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const filterButtons = document.querySelectorAll('.filter-btn');
            const scenes = document.querySelectorAll('#card-grid .scene');
            const cards = document.querySelectorAll('.card');
            const cardCountDisplay = document.getElementById('card-count');

            // Function to update the card count display
            const updateCardCount = () => {
                const activeFilter = document.querySelector('.filter-btn.active').getAttribute('data-filter');
                let visibleCount = 0;

                if (activeFilter === 'all') {
                    visibleCount = scenes.length;
                } else {
                    // Count only the scenes that match the current filter
                    visibleCount = document.querySelectorAll(`.scene[data-category="${activeFilter}"]`).length;
                }
                
                cardCountDisplay.textContent = `此分類共顯示 ${visibleCount} 張知識圖卡`;
            };

            // Card flip functionality
            cards.forEach(card => {
                card.addEventListener('click', () => {
                    card.classList.toggle('is-flipped');
                });
            });

            // Filter button functionality
            filterButtons.forEach(button => {
                button.addEventListener('click', () => {
                    filterButtons.forEach(btn => btn.classList.remove('active'));
                    button.classList.add('active');

                    const filter = button.getAttribute('data-filter');

                    scenes.forEach(scene => {
                        // Flip card back to front when changing category
                        scene.querySelector('.card').classList.remove('is-flipped');
                        
                        if (filter === 'all' || scene.getAttribute('data-category') === filter) {
                            scene.classList.remove('hidden');
                        } else {
                            scene.classList.add('hidden');
                        }
                    });

                    // Update the count after filtering
                    updateCardCount();
                });
            });

            // Initial count on page load
            updateCardCount();
        });
    </script>

</body>
</html>

